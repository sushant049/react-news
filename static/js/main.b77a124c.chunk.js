(this.webpackJsonpdecathalon=this.webpackJsonpdecathalon||[]).push([[0],{129:function(e,t,a){e.exports=a(216)},134:function(e,t,a){},216:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(5),s=a.n(c),l=(a(134),a(7)),o=a(11),u=a(16),i=a(18),p=a(65),m=a(45),d=a(4),h=a.n(d),f=a(27),w="FETCH_NEWS_BY_SID",b="FETCH_TOP_HEADLINES",E="FETCH_RELATED_NEWS",y="UPDATE_SELECTED_SOURCE",v="FETCH_SOURCES",g="FETCH_SELECTED_NEWS",j=a(31),O=new(function(){function e(){Object(l.a)(this,e),this.apiDomain="http://newsapi.org/v2/",this.apiKey="bea134ba98674877a901302e2eadfb1d"}return Object(o.a)(e,[{key:"getNewsSources",value:function(){var e=Object(f.a)(h.a.mark((function e(){var t,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._dataRequest("sources?language=en&apiKey=".concat(this.apiKey),{method:"GET"});case 2:return t=e.sent,a=t.sources,e.abrupt("return",a.map((function(e){return{id:e.id,name:e.name,country:e.country}})));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getNewsBySource",value:function(){var e=Object(f.a)(h.a.mark((function e(t){var a,n,r,c,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=null,"all"===t){e.next=9;break}return e.next=4,this._dataRequest("everything?sources=".concat(t,"&sortBy=publishedAt&apiKey=").concat(this.apiKey),{method:"GET"});case 4:n=e.sent,r=n.articles,a=r,e.next=14;break;case 9:return e.next=11,this._dataRequest("everything?q=india&sortBy=publishedAt&apiKey=".concat(this.apiKey),{method:"GET"});case 11:c=e.sent,s=c.articles,a=s;case 14:return e.abrupt("return",a);case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getTopHeadlines",value:function(){var e=Object(f.a)(h.a.mark((function e(t){var a,n,r,c,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=null,"all"===t){e.next=9;break}return e.next=4,this._dataRequest("top-headlines?sortBy=popularity&sources=".concat(t,"&apiKey=").concat(this.apiKey),{method:"GET"});case 4:n=e.sent,r=n.articles,a=r,e.next=14;break;case 9:return e.next=11,this._dataRequest("top-headlines?country=in&sortBy=popularity&apiKey=".concat(this.apiKey),{method:"GET"});case 11:c=e.sent,s=c.articles,a=s;case 14:return e.abrupt("return",a);case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getRelatedNews",value:function(){var e=Object(f.a)(h.a.mark((function e(t){var a,n,r,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchKeywords(t);case 2:return a=e.sent,n=a.keywords,e.next=6,this._dataRequest("everything?q=".concat(n[0],"&sortBy=publishedAt&language=en&apiKey=").concat(this.apiKey),{method:"GET"});case 6:return r=e.sent,c=r.articles,e.abrupt("return",c);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getNewsDetails",value:function(){var e=Object(f.a)(h.a.mark((function e(t){var a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._dataRequest("everything?qInTitle=".concat(t,"&apiKey=").concat(this.apiKey),{method:"GET"});case 2:return a=e.sent,n=a.articles,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"fetchKeywords",value:function(){var e=Object(f.a)(h.a.mark((function e(t){var a,n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={text:"".concat(t),wordnum:"5"},n=Object.keys(a).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(a[e])})).join("&"),e.next=4,fetch("https://textanalysis-keyword-extraction-v1.p.rapidapi.com/keyword-extractor-text",{method:"POST",headers:{"x-rapidapi-host":"textanalysis-keyword-extraction-v1.p.rapidapi.com","x-rapidapi-key":"f0653ad88dmsh232340d1a7fd82ap1c942bjsn4eb9b756d1dc","content-type":"application/x-www-form-urlencoded"},body:n});case 4:return r=e.sent,e.prev=5,this._checkStatus(r),e.abrupt("return",r.json());case 10:return e.prev=10,e.t0=e.catch(5),e.next=14,this._handleError(e.t0);case 14:return e.abrupt("return",e.sent);case 15:case"end":return e.stop()}}),e,this,[[5,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_dataRequest",value:function(){var e=Object(f.a)(h.a.mark((function e(t,a){var n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={"Content-Type":"application/json",Accept:"*/*","Access-Control-Allow-Origin":"http://localhost:3000"},"object"===typeof a.body&&(a.body=JSON.stringify(a.body)),e.next=4,fetch("".concat(this.apiDomain).concat(t),Object(j.a)({headers:n},a));case 4:return r=e.sent,e.prev=5,this._checkStatus(r),e.abrupt("return",r.json());case 10:return e.prev=10,e.t0=e.catch(5),e.next=14,this._handleError(e.t0);case 14:return e.abrupt("return",e.sent);case 15:case"end":return e.stop()}}),e,this,[[5,10]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"_handleError",value:function(){var e=Object(f.a)(h.a.mark((function e(t){var a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.response){e.next=10;break}return a=t.response,e.next=4,a.json();case 4:if(!(n=e.sent)){e.next=9;break}return e.abrupt("return",Promise.reject(n.message));case 9:return e.abrupt("return",Promise.reject(a.statusText));case 10:return e.abrupt("return",Promise.reject(t));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"_checkStatus",value:function(e){if(e.status>=200&&e.status<300)return e;var t=new Error(e.statusText);throw t.response=e,t}}]),e}()),x=function(e){return function(){var t=Object(f.a)(h.a.mark((function t(a){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.getNewsBySource(e);case 2:n=t.sent,a({type:w,payload:n});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},N=function(e){return function(){var t=Object(f.a)(h.a.mark((function t(a){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.getTopHeadlines(e);case 2:n=t.sent,a({type:b,payload:n});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},k=a(218),S=a(96),T=k.a.Header,C=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).reloadAllNews=function(t,a){(0,e.props.updateSelectedSource)(t,a)},e.componentDidMount=function(){(0,e.props.loadSources)()},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.props.allSources;return r.a.createElement(k.a,{className:"header-layout"},r.a.createElement(T,{className:"app-header"},r.a.createElement(S.a,{mode:"horizontal",defaultSelectedKeys:["-1"]},r.a.createElement(S.a.Item,{key:"-1",onClick:function(){return e.reloadAllNews("all","All News")}},"All News"),t.length?t.map((function(t,a){return r.a.createElement(S.a.Item,{key:a,onClick:function(){return e.reloadAllNews(t.id,t.name)}},t.name)})):null)))}}]),a}(n.Component),D=Object(m.b)((function(e){return{allSources:e.news.allSources}}),(function(e){return{loadSources:function(){return e(function(){var e=Object(f.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.getNewsSources();case 2:a=e.sent,t({type:v,payload:a});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},updateSelectedSource:function(t,a){return e(function(e,t){return function(){var a=Object(f.a)(h.a.mark((function a(n){return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:y,payload:{id:e,name:t}}),a.next=3,n(x(e));case 3:return a.next=5,n(N(e));case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(t,a))}}}))(C),R=a(22),_=a(220),I=a(64),A=a(39),H=a(223),K=a(224),L=_.a.Text,F=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"renderDate",value:function(e){var t=new Date(e).toString().split(" ");return"".concat(t[1]," ").concat(t[2],", ").concat(t[3],",").concat(t[4])}},{key:"render",value:function(){var e=this.props,t=e.newsSource,a=e.newsDate;return r.a.createElement(I.a,{gutter:12,className:"news-footer"},r.a.createElement(A.a,{lg:12},r.a.createElement(_.a,null,r.a.createElement(L,null,t.name,", ",r.a.createElement("span",{className:"text-light"},this.renderDate(a))))),r.a.createElement(A.a,{lg:12,className:"news-stats"},r.a.createElement("span",null,r.a.createElement(H.a,null)," 240"),r.a.createElement("span",null,r.a.createElement(K.a,null)," 20")))}}]),a}(n.Component),q=a(219),B=_.a.Title,U=_.a.Paragraph,M=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"pageRedirection",value:function(e){this.props.history.push(e)}},{key:"render",value:function(){var e=this,t=this.props.newsData;return r.a.createElement(r.a.Fragment,null,r.a.createElement(q.a,{className:"news-card",onClick:function(){return e.pageRedirection("/news-details/".concat(encodeURI(t.title)))}},r.a.createElement(I.a,{gutter:12,className:"news-content"},r.a.createElement(A.a,{lg:6,className:"news-image"},r.a.createElement("img",{src:t.urlToImage,alt:t.urlToImage})),r.a.createElement(A.a,{lg:18,className:"news-text"},r.a.createElement(_.a,null,r.a.createElement(B,{level:4,className:"title-text"},t.title),r.a.createElement(U,{className:"paragraph-text"},t.description.substring(0,99))))),r.a.createElement(F,{newsSource:t.source,newsDate:t.publishedAt})))}}]),a}(n.Component),P=Object(R.f)(M),G=a(122),W=a(201),J=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).fetchMoreData=function(){for(var e=n.props.newsList,t=n.state,a=t.currentIndex,r=a+t.offset,c=function(t){n.setState((function(a){return{data:a.data.concat([e[t]]),currentIndex:t+1}}))},s=a;s<r;s++)c(s);console.log(n.state.currentIndex)},n.state={data:[],currentIndex:0,offset:10},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.fetchMoreData()}},{key:"render",value:function(){var e=this.state,t=e.data,a=e.currentIndex;return r.a.createElement(r.a.Fragment,null,r.a.createElement(G.a,{dataLength:this.props.newsList.length,next:this.fetchMoreData,hasMore:a<this.props.newsList.length,loader:r.a.createElement("h4",null,"Loading..."),endMessage:r.a.createElement("p",{style:{textAlign:"center"}},r.a.createElement("b",null,"That's all for now"))},t.length?t.map((function(e,t){return r.a.createElement(P,{newsData:e,key:W.generate()})})):r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",null,"That's all for now"))))}}]),a}(n.Component),z=_.a.Text,Y=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"pageRedirection",value:function(e){this.props.history.push(e),window.location.reload()}},{key:"render",value:function(){var e=this,t=this.props.newsData;return r.a.createElement(r.a.Fragment,null,r.a.createElement(q.a,{className:"news-card",onClick:function(){return e.pageRedirection("/news-details/".concat(encodeURI(t.title)))}},r.a.createElement(I.a,{gutter:12,className:"news-content"},r.a.createElement(A.a,{lg:5,className:"news-image"},r.a.createElement("img",{src:t.urlToImage,alt:t.urlToImage})),r.a.createElement(A.a,{lg:19,className:"news-text"},r.a.createElement(_.a,null,r.a.createElement(z,{className:"paragraph-text text-medium"},t.title)))),r.a.createElement(F,{newsSource:t.source,newsDate:t.publishedAt})))}}]),a}(n.Component),Q=Object(R.f)(Y),V=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.newsList;return r.a.createElement(r.a.Fragment,null,e.length?e.slice(0,10).map((function(e,t){return r.a.createElement(Q,{newsData:e,key:t})})):r.a.createElement("p",null,"There were some issues while fetching data"))}}]),a}(n.Component),X=a(222),Z=_.a.Text,$=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.loadNews,a=e.selectedSource.id,n=e.loadTopHeadlines;t(a),n(a)}},{key:"render",value:function(){var e=this.props,t=e.news,a=e.topHeadlines,n=e.selectedSource.name;return r.a.createElement("div",{className:"page-container"},r.a.createElement(I.a,null,r.a.createElement(A.a,{lg:16,className:"main-content"},r.a.createElement(_.a,{className:"breadcrumb-section"},r.a.createElement(Z,{className:"text-medium tag-bar"},r.a.createElement("div",null,"Latest updates from ",r.a.createElement("span",{className:"text-active"},n)),r.a.createElement("div",{className:"pull-right "},r.a.createElement(X.a,{color:"processing"},"Business"),r.a.createElement(X.a,{color:"processing"},"Economics"),r.a.createElement(X.a,{color:"processing"},"Health"),r.a.createElement(X.a,{color:"processing"},"Weather"),r.a.createElement(X.a,{color:"processing"},"Entertainment"),r.a.createElement(X.a,{color:"processing"},"Sports")))),r.a.createElement(J,{newsList:t})),r.a.createElement(A.a,{lg:8,className:"side-bar"},r.a.createElement(_.a,{className:"breadcrumb-section"},r.a.createElement(Z,{className:"text-medium"},"Top Headlines")),r.a.createElement("div",{className:"scrollable"},r.a.createElement(V,{newsList:a})))))}}]),a}(n.Component),ee=Object(m.b)((function(e){var t=e.news;return{news:t.news,topHeadlines:t.topHeadlines,selectedSource:{id:t.selectedSource.id,name:t.selectedSource.name}}}),(function(e){return{loadNews:function(t){return e(x(t))},loadTopHeadlines:function(t){return e(N(t))}}}))($),te=a(221),ae=_.a.Title,ne=_.a.Paragraph,re=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.newsData;return r.a.createElement(r.a.Fragment,null,e?r.a.createElement(I.a,null,r.a.createElement(A.a,{lg:24,className:"breadcrumb-section"},r.a.createElement(te.a,{separator:">"},r.a.createElement(te.a.Item,{href:"/"},"Home"),r.a.createElement(te.a.Item,null,e.title.substring(0,50),"..."))),r.a.createElement(A.a,{lg:24,className:"news-lg-image-container"},r.a.createElement("img",{src:e.urlToImage,alt:e.urlToImage})),r.a.createElement(A.a,{lg:24},r.a.createElement(_.a,null,r.a.createElement(ae,{level:4,className:"title-text"},e.title)),r.a.createElement(F,{newsSource:e.source,newsDate:e.publishedAt})),r.a.createElement(A.a,{lg:24},r.a.createElement(_.a,null,r.a.createElement(ne,null,e.content)))):r.a.createElement(I.a,null,r.a.createElement(A.a,{lg:24,className:"news-lg-image-container"},r.a.createElement("p",null,"There were some issues while fetching data"))))}}]),a}(n.Component),ce=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.newsList;return r.a.createElement(r.a.Fragment,null,e.length?e.slice(0,10).map((function(e,t){return r.a.createElement(Q,{newsData:e,key:t})})):r.a.createElement("p",null,"There were some issues while fetching data"))}}]),a}(n.Component),se=_.a.Text,le=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).getCurrentURL=function(){return decodeURIComponent(window.location.pathname).replace("/news-details/","")},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){console.log(this.props);var e=this.props,t=e.loadSelectedNews,a=e.loadRelatedNews;t(this.getCurrentURL()),a()}},{key:"render",value:function(){var e=this.props,t=e.selectedNews,a=e.relatedNews;return r.a.createElement("div",{className:"page-container"},r.a.createElement(I.a,null,r.a.createElement(A.a,{lg:16,className:"main-content"},r.a.createElement(re,{newsData:t[0]})),r.a.createElement(A.a,{lg:8,className:"side-bar"},r.a.createElement(_.a,{className:"breadcrumb-section"},r.a.createElement(se,{className:"text-medium"},"Realted News")),r.a.createElement("div",{className:"scrollable"},r.a.createElement(ce,{newsList:a})))))}}]),a}(n.Component),oe=Object(m.b)((function(e){var t=e.news;return{selectedSource:t.selectedSource,selectedNews:t.selectedNews,relatedNews:t.relatedNews}}),(function(e){return{loadSelectedNews:function(t){return e(function(e){return function(){var t=Object(f.a)(h.a.mark((function t(a,n){var r,c,s;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=n().news.news.filter((function(t){return t.title===e})),c=n().news.topHeadlines.filter((function(t){return t.title===e})),s=n().news.relatedNews.filter((function(t){return t.title===e})),a({type:g,payload:r.length?r:c.length?c:s});case 4:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()}(t))},loadRelatedNews:function(){return e(function(){var e=Object(f.a)(h.a.mark((function e(t,a){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.getRelatedNews(a().news.selectedNews[0].content);case 2:n=e.sent,t({type:E,payload:n});case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}())}}}))(le),ue=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement(R.c,null,r.a.createElement(R.a,{path:"/",exact:!0,component:ee}),r.a.createElement(R.a,{path:"/home",component:ee}),r.a.createElement(R.a,{path:"/news-details/:newsTitle",component:oe}))}}]),a}(n.Component),ie=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,null,r.a.createElement(D,null),r.a.createElement(ue,null)))}}]),a}(n.Component),pe=a(48),me={allSources:[],selectedSource:{id:"all",name:"All News"},news:[],selectedNews:{},topHeadlines:[],relatedNews:[]},de=Object(pe.c)({news:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case w:return Object(j.a)(Object(j.a)({},e),{},{news:n});case b:return Object(j.a)(Object(j.a)({},e),{},{topHeadlines:n});case E:return Object(j.a)(Object(j.a)({},e),{},{relatedNews:n});case g:return Object(j.a)(Object(j.a)({},e),{},{selectedNews:n});case v:return Object(j.a)(Object(j.a)({},e),{},{allSources:n});case y:return Object(j.a)(Object(j.a)({},e),{},{selectedSource:{id:n.id,name:n.name}});default:return e}}}),he=a(124),fe=a(125),we=a.n(fe),be=[he.a],Ee=pe.d,ye=Object(pe.e)(de,Ee(we()(["news"]),pe.a.apply(void 0,be)));s.a.render(r.a.createElement(m.a,{store:ye},r.a.createElement(ie,null)),document.getElementById("root"))}},[[129,1,2]]]);
//# sourceMappingURL=main.b77a124c.chunk.js.map